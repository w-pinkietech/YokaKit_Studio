# GitHub Strategy for Context Studio Architecture

**AI-DLC Ã— GitHubæœ€é©åŒ–æˆ¦ç•¥**

Context Studioã¨Code Outputã®2ãƒªãƒã‚¸ãƒˆãƒªä½“åˆ¶ã«ãŠã„ã¦ã€GitHubã®æ©Ÿèƒ½ã‚’æœ€å¤§é™æ´»ç”¨ã™ã‚‹ãŸã‚ã®åŒ…æ‹¬çš„æˆ¦ç•¥ã€‚

---

## 1. Branch Strategy

### 1.1 Context Studioï¼ˆæ–‡è„ˆç®¡ç†ãƒªãƒã‚¸ãƒˆãƒªï¼‰

**ç‰¹æ€§**: ä½Disposabilityã€æˆ¦ç•¥çš„æˆæœç‰©ã€PO/ArchitectãŒä¸»å°

#### Branch Model: **Phase-Driven Branching**

```
main
â”œâ”€â”€ inception/001-multi-account          # Inception Phaseä½œæ¥­
â”‚   â”œâ”€â”€ intent                           # Intentæ˜ç¢ºåŒ–
â”‚   â”œâ”€â”€ units                            # Unitsåˆ†è§£
â”‚   â””â”€â”€ stories                          # User Storiesä½œæˆ
â”‚
â”œâ”€â”€ construction/001-multi-account       # Construction Phaseä½œæ¥­
â”‚   â”œâ”€â”€ domain-design                    # Domain Designä½œæˆ
â”‚   â”œâ”€â”€ logical-design                   # ADRä½œæˆ
â”‚   â””â”€â”€ code-mapping                     # Code Outputãƒãƒƒãƒ”ãƒ³ã‚°
â”‚
â””â”€â”€ operations/001-multi-account         # Operations Phaseä½œæ¥­
    â””â”€â”€ deployment-plan                  # ãƒ‡ãƒ—ãƒ­ã‚¤è¨ˆç”»
```

#### ãƒ–ãƒ©ãƒ³ãƒå‘½åè¦å‰‡

```
<phase>/<context-id>-<feature-name>[/<artifact-type>]

ä¾‹:
- inception/001-multi-account
- inception/001-multi-account/intent
- construction/001-multi-account/domain-design
- construction/001-multi-account/logical-design
- operations/001-multi-account
```

#### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

```mermaid
graph LR
    main[main]
    
    subgraph "Inception Phase"
        inception[inception/001-*]
        intent[inception/001-*/intent]
        units[inception/001-*/units]
        stories[inception/001-*/stories]
    end
    
    subgraph "Construction Phase"
        construction[construction/001-*]
        domain[construction/001-*/domain-design]
        logical[construction/001-*/logical-design]
    end
    
    subgraph "Operations Phase"
        operations[operations/001-*]
    end
    
    main --> inception
    inception --> intent
    inception --> units
    inception --> stories
    stories --> construction
    construction --> domain
    construction --> logical
    logical --> operations
    
    intent -.PR.-> main
    units -.PR.-> main
    stories -.PR.-> main
    domain -.PR.-> main
    logical -.PR.-> main
    operations -.PR.-> main
    
    style main fill:#2d2d44,stroke:#7f5af0,stroke-width:3px,color:#fff
    style inception fill:#1f4068,stroke:#2ec4b6,stroke-width:2px,color:#fff
    style construction fill:#2d2d44,stroke:#7f5af0,stroke-width:2px,color:#fff
    style operations fill:#162447,stroke:#1dd1a1,stroke-width:2px,color:#fff
```

#### ãƒãƒ¼ã‚¸æˆ¦ç•¥

| Phase | ãƒãƒ¼ã‚¸å…ˆ | æ‰¿èªè€… | ãƒãƒ¼ã‚¸æ–¹æ³• |
|-------|---------|--------|-----------|
| **Inception** | `main` | Product Owner | Squash Mergeï¼ˆæ–‡è„ˆã®ä¸€è²«æ€§ï¼‰ |
| **Construction** | `main` | Architect | Merge Commitï¼ˆADRå±¥æ­´ä¿æŒï¼‰ |
| **Operations** | `main` | DevOps Lead | Squash Merge |

**ç†ç”±**:
- Inception: è©¦è¡ŒéŒ¯èª¤ã®å±¥æ­´ã¯ä¸è¦ã€æœ€çµ‚å½¢ã®ã¿æ®‹ã™
- Construction: ADRã®å¤‰æ›´å±¥æ­´ã¯é‡è¦ã€Merge Commitã§ä¿æŒ
- Operations: ãƒ‡ãƒ—ãƒ­ã‚¤è¨ˆç”»ã®æœ€çµ‚ç‰ˆã®ã¿æ®‹ã™

---

### 1.2 Code Outputï¼ˆå®Ÿè£…ãƒªãƒã‚¸ãƒˆãƒªï¼‰

**ç‰¹æ€§**: é«˜Disposabilityã€å®Ÿè£…ã‚³ãƒ¼ãƒ‰ã€Developerä¸»å°

#### Branch Model: **GitHub Flow + Feature Branching**

```
main (production-ready)
â”œâ”€â”€ feature/001-account-entity           # Context #001å¯¾å¿œ
â”œâ”€â”€ feature/001-switch-service           # Context #001å¯¾å¿œ
â”œâ”€â”€ feature/002-payment-gateway          # Context #002å¯¾å¿œ
â”œâ”€â”€ hotfix/session-timeout               # ç·Šæ€¥ä¿®æ­£
â””â”€â”€ refactor/auth-service                # ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
```

#### ãƒ–ãƒ©ãƒ³ãƒå‘½åè¦å‰‡

```
<type>/<context-id>-<component-name>
<type>/<description>

type:
- feature: æ–°æ©Ÿèƒ½ï¼ˆContext Studioå¯¾å¿œï¼‰
- hotfix: ç·Šæ€¥ä¿®æ­£
- refactor: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- chore: é›‘å‹™ï¼ˆä¾å­˜æ›´æ–°ç­‰ï¼‰

ä¾‹:
- feature/001-account-entity
- feature/001-switch-service
- hotfix/session-timeout
- refactor/auth-service
```

#### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

```mermaid
graph LR
    main[main<br/>production-ready]
    
    feature1[feature/001-account-entity]
    feature2[feature/001-switch-service]
    hotfix[hotfix/session-timeout]
    
    main --> feature1
    main --> feature2
    main --> hotfix
    
    feature1 -.PR + CI/CD.-> main
    feature2 -.PR + CI/CD.-> main
    hotfix -.PR + ç·Šæ€¥ãƒ¬ãƒ“ãƒ¥ãƒ¼.-> main
    
    style main fill:#2d2d44,stroke:#7f5af0,stroke-width:3px,color:#fff
    style feature1 fill:#1f4068,stroke:#2ec4b6,stroke-width:2px,color:#fff
    style feature2 fill:#1f4068,stroke:#2ec4b6,stroke-width:2px,color:#fff
    style hotfix fill:#5c2e7e,stroke:#e63946,stroke-width:2px,color:#fff
```

#### ãƒãƒ¼ã‚¸æˆ¦ç•¥

| Type | ãƒãƒ¼ã‚¸å…ˆ | æ‰¿èªè€… | ãƒãƒ¼ã‚¸æ–¹æ³• | CI/CD |
|------|---------|--------|-----------|-------|
| **feature** | `main` | 2+ Developers | Squash Merge | å¿…é ˆ |
| **hotfix** | `main` | 1+ Developer | Merge Commitï¼ˆå±¥æ­´è¿½è·¡ï¼‰ | å¿…é ˆ |
| **refactor** | `main` | 2+ Developers | Squash Merge | å¿…é ˆ |

**ä¿è­·ãƒ«ãƒ¼ãƒ«ï¼ˆBranch Protectionï¼‰**:
```yaml
main:
  required_pull_request_reviews: 2
  require_code_owner_reviews: true
  required_status_checks:
    - ci/tests
    - ci/lint
    - ci/security-scan
  enforce_admins: true
  allow_force_pushes: false
```

---

## 2. Issue Strategy

### 2.1 Issue Typesï¼ˆä¸¡ãƒªãƒã‚¸ãƒˆãƒªå…±é€šï¼‰

#### Context Studio Issues

| Type | Template | Labels | èª¬æ˜ |
|------|----------|--------|------|
| **Intent** | `intent.md` | `artifact::intent`, `phase::inception` | æ–°æ©Ÿèƒ½ãƒ»ãƒ“ã‚¸ãƒã‚¹æ„å›³ |
| **Units Decomposition** | `units.md` | `artifact::units`, `phase::inception` | Unitsåˆ†è§£ã‚¿ã‚¹ã‚¯ |
| **Domain Design** | `domain-design.md` | `artifact::domain-design`, `phase::construction` | ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ä½œæˆ |
| **ADR** | `adr.md` | `artifact::logical-design`, `phase::construction` | æŠ€è¡“åˆ¤æ–­è¨˜éŒ² |
| **Deployment Plan** | `deployment.md` | `artifact::deployment`, `phase::operations` | ãƒ‡ãƒ—ãƒ­ã‚¤è¨ˆç”» |

#### Code Output Issues

| Type | Template | Labels | èª¬æ˜ |
|------|----------|--------|------|
| **Feature** | `feature.md` | `type::feature`, `context::###` | Context Studioå¯¾å¿œå®Ÿè£… |
| **Bug** | `bug.md` | `type::bug`, `priority::high/medium/low` | ä¸å…·åˆå ±å‘Š |
| **Refactoring** | `refactor.md` | `type::refactor`, `context::###` | ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚° |
| **Technical Debt** | `tech-debt.md` | `type::tech-debt` | æŠ€è¡“çš„è² å‚µ |

---

### 2.2 Issueé€£æºãƒ‘ã‚¿ãƒ¼ãƒ³

#### Pattern 1: Context-First Flowï¼ˆæ–°è¦é–‹ç™ºï¼‰

```
Context Studio
â”œâ”€ Issue #1: Intent "ãƒãƒ«ãƒã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ©Ÿèƒ½"
â”‚  â”œâ”€ Labels: artifact::intent, phase::inception
â”‚  â””â”€ Milestone: Bolt-2024-W42
â”‚
â”œâ”€ Issue #5: Domain Design "Account Entity"
â”‚  â”œâ”€ Labels: artifact::domain-design, phase::construction
â”‚  â”œâ”€ Body: "Part of #1"
â”‚  â””â”€ Linked: Code Output yokakit#10
â”‚
â””â”€ Issue #8: ADR-001 "Redisæ¡ç”¨æ±ºå®š"
   â”œâ”€ Labels: artifact::logical-design, phase::construction
   â””â”€ Body: "Part of #1"

Code Output (yokakit)
â””â”€ Issue #10: Implement Account Entity
   â”œâ”€ Labels: type::feature, context::001
   â”œâ”€ Body: "Based on Context Studio #5, ADR-001"
   â””â”€ Linked: Context Studio #5
```

**Issue Body Templateï¼ˆCode Outputï¼‰**:
```markdown
## Context Studio Reference

- **Context ID**: 001-multi-account
- **Domain Design**: [Context Studio #5](https://github.com/org/context-studio/issues/5)
- **ADR**: [ADR-001](https://github.com/org/context-studio/blob/main/.aidlc/contexts/001-multi-account/construction/logical-design/adr/001-redis-session.md)

## Implementation Details

- [ ] Create `Account` model
- [ ] Implement `SwitchAccountService`
- [ ] Add unit tests

## Definition of Done

- [ ] All tests pass
- [ ] Code review approved (2+)
- [ ] ADR-001 compliance verified
```

#### Pattern 2: Code-First Flowï¼ˆæŠ€è¡“çš„è² å‚µãƒ»ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ï¼‰

```
Code Output (yokakit)
â””â”€ Issue #25: Refactor AuthService for testability
   â”œâ”€ Labels: type::refactor, needs-context
   â””â”€ Body: "ç¾çŠ¶ã®AuthServiceãŒãƒ†ã‚¹ãƒˆå›°é›£"

Context Studio
â”œâ”€ Issue #15: Elevate AuthService to Domain Model
â”‚  â”œâ”€ Labels: artifact::domain-design, work::brown-field
â”‚  â”œâ”€ Body: "Related to yokakit#25"
â”‚  â””â”€ Milestone: Bolt-2024-W43
â”‚
â””â”€ Issue #16: ADR-002 "AuthServiceåˆ†é›¢æˆ¦ç•¥"
   â”œâ”€ Labels: artifact::logical-design
   â””â”€ Body: "Part of #15"

Code Output (yokakit)
â””â”€ Issue #28: Refactor AuthService (based on Domain Design)
   â”œâ”€ Labels: type::refactor, context::002
   â””â”€ Body: "Based on Context Studio #15, ADR-002"
```

---

### 2.3 Cross-Repository Issue Linking

**GitHub CLIæ´»ç”¨**:
```bash
# Context Studio Issueã‹ã‚‰Code Output Issueã¸
gh issue create \
  --repo org/yokakit \
  --title "Implement Account Entity" \
  --label "type::feature,context::001" \
  --body "Based on Context Studio org/context-studio#5"

# Code Output PRã«Context Studioå‚ç…§ã‚’è‡ªå‹•è¿½åŠ 
gh pr create \
  --title "feat: Implement Account Entity" \
  --body "$(cat <<EOF
## Context Studio Reference
- Context: 001-multi-account
- Domain Design: org/context-studio#5
- ADR: [ADR-001](link)

## Changes
- Created Account model
- Implemented SwitchAccountService
EOF
)"
```

---

## 3. Label Strategy

### 3.1 Context Studio Labels

#### Artifact Labelsï¼ˆæ—¢å­˜ï¼‰
```yaml
artifact::constitution:
  color: "0e8a16"
  description: "Constitution (0% Disposability)"

artifact::intent:
  color: "fbca04"
  description: "Intent (30% Disposability)"

artifact::units:
  color: "fbca04"
  description: "Units (40% Disposability)"

artifact::stories:
  color: "d93f0b"
  description: "User Stories (50% Disposability)"

artifact::domain-design:
  color: "0e8a16"
  description: "Domain Design (20% Disposability) â­é‡è¦"

artifact::logical-design:
  color: "0e8a16"
  description: "ADR (20% Disposability) â­é‡è¦"

artifact::code:
  color: "d93f0b"
  description: "Code (80% Disposability)"

artifact::deployment:
  color: "d93f0b"
  description: "Deployment (70% Disposability)"
```

#### Phase Labels
```yaml
phase::inception:
  color: "1f4068"
  description: "Inception Phase (è¦ä»¶æ˜ç¢ºåŒ–)"

phase::construction:
  color: "533483"
  description: "Construction Phase (è¨­è¨ˆãƒ»å®Ÿè£…)"

phase::operations:
  color: "0f3460"
  description: "Operations Phase (ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»é‹ç”¨)"
```

#### Work Type Labels
```yaml
work::green-field:
  color: "5ebeff"
  description: "æ–°è¦é–‹ç™º"

work::brown-field:
  color: "f9d71c"
  description: "æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ å¤‰æ›´"

work::refactoring:
  color: "ff6b6b"
  description: "ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°"

work::defect:
  color: "d73a49"
  description: "ä¸å…·åˆä¿®æ­£"
```

#### Priority Labelsï¼ˆæ–°è¦ï¼‰
```yaml
priority::critical:
  color: "d73a49"
  description: "æœ€å„ªå…ˆï¼ˆãƒ–ãƒ­ãƒƒã‚«ãƒ¼ï¼‰"

priority::high:
  color: "d93f0b"
  description: "é«˜å„ªå…ˆ"

priority::medium:
  color: "fbca04"
  description: "ä¸­å„ªå…ˆ"

priority::low:
  color: "0e8a16"
  description: "ä½å„ªå…ˆ"
```

#### Status Labelsï¼ˆæ–°è¦ï¼‰
```yaml
status::draft:
  color: "ffffff"
  description: "ãƒ‰ãƒ©ãƒ•ãƒˆï¼ˆAIç”Ÿæˆä¸­ï¼‰"

status::review:
  color: "fbca04"
  description: "ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾…ã¡"

status::approved:
  color: "0e8a16"
  description: "æ‰¿èªæ¸ˆã¿"

status::blocked:
  color: "d73a49"
  description: "ãƒ–ãƒ­ãƒƒã‚¯ä¸­"
```

---

### 3.2 Code Output Labels

#### Type Labels
```yaml
type::feature:
  color: "5ebeff"
  description: "æ–°æ©Ÿèƒ½"

type::bug:
  color: "d73a49"
  description: "ä¸å…·åˆ"

type::refactor:
  color: "ff6b6b"
  description: "ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°"

type::chore:
  color: "fef2c0"
  description: "é›‘å‹™ï¼ˆä¾å­˜æ›´æ–°ç­‰ï¼‰"

type::tech-debt:
  color: "f9d71c"
  description: "æŠ€è¡“çš„è² å‚µ"
```

#### Context Reference Labels
```yaml
context::001:
  color: "1f4068"
  description: "Context Studio: 001-multi-account"

context::002:
  color: "1f4068"
  description: "Context Studio: 002-payment-integration"

needs-context:
  color: "d73a49"
  description: "Context Studioå¯¾å¿œãŒå¿…è¦"
```

#### Priority/Status Labelsï¼ˆContext Studioã¨åŒæ§˜ï¼‰

---

## 4. Pull Request Strategy

### 4.1 Context Studio PR

#### PR Template
```markdown
## Phase
<!-- Inception / Construction / Operations -->
- [ ] Inception
- [ ] Construction
- [ ] Operations

## Artifact Type
<!-- Intent / Units / Stories / Domain Design / ADR / Deployment -->
- Artifact: 

## Context ID
- Context: 001-multi-account

## Changes
<!-- AIã«ã‚ˆã‚‹ç”Ÿæˆå†…å®¹ã€äººé–“ã«ã‚ˆã‚‹ä¿®æ­£å†…å®¹ -->

## AI Interaction Summary
<!-- AIã¨ã®å¯¾è©±ã‚µãƒãƒªãƒ¼ -->
- AIææ¡ˆ: ...
- äººé–“ä¿®æ­£: ...

## Approval Checklist
- [ ] Product Owner reviewed (Inception)
- [ ] Architect reviewed (Construction: Domain/Logical Design)
- [ ] DevOps Lead reviewed (Operations)

## Related Issues
Closes #XX
Part of #YY

## Code Output Impact
<!-- ã“ã®PRãŒCode Outputã«ä¸ãˆã‚‹å½±éŸ¿ -->
- Impacts: yokakit (submodule)
- Expected Code Output PR: yokakit#ZZ
```

#### PR Review Rules

| Phase | Reviewer | æ‰¿èªæ•° | è‡ªå‹•ãƒã‚§ãƒƒã‚¯ |
|-------|----------|--------|-------------|
| Inception | Product Owner | 1 | Markdown lint, ãƒªãƒ³ã‚¯æ¤œè¨¼ |
| Construction (Domain) | Architect | 1 | Markdown lint, Mermaidæ¤œè¨¼ |
| Construction (ADR) | Architect + Tech Lead | 2 | ADRãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¤œè¨¼ |
| Operations | DevOps Lead | 1 | YAML/Terraform lint |

---

### 4.2 Code Output PR

#### PR Template
```markdown
## Context Studio Reference
- **Context ID**: 001-multi-account
- **Domain Design**: [#5](context-studio-link)
- **ADR**: [ADR-001](adr-link)
- **Status**: ğŸŸ¢ Approved

## Type
<!-- Feature / Bug Fix / Refactor / Chore -->
- [ ] Feature
- [ ] Bug Fix
- [ ] Refactor
- [ ] Chore

## Changes
<!-- å¤‰æ›´å†…å®¹ -->

## ADR Compliance
<!-- ADR-001ã®éµå®ˆçŠ¶æ³ -->
- [ ] Redis session management implemented
- [ ] Error handling as per ADR-001
- [ ] Monitoring hooks added

## Testing
- [ ] Unit tests added/updated
- [ ] Integration tests added/updated
- [ ] Manual testing completed

## Definition of Done
- [ ] All tests pass (CI)
- [ ] Code review approved (2+)
- [ ] ADR compliance verified
- [ ] Documentation updated

## Related Issues
Closes #XX
Related to context-studio#YY
```

#### CI/CD Checksï¼ˆå¿…é ˆï¼‰

```yaml
# .github/workflows/pr-validation.yml
name: PR Validation

on:
  pull_request:
    branches: [main]

jobs:
  context-validation:
    runs-on: ubuntu-latest
    steps:
      - name: Validate Context Reference
        run: |
          # PRãƒœãƒ‡ã‚£ã«Context Studioå‚ç…§ãŒã‚ã‚‹ã‹ç¢ºèª
          if ! grep -q "Context Studio Reference" <<< "${{ github.event.pull_request.body }}"; then
            echo "Error: Context Studio Reference required"
            exit 1
          fi
      
      - name: Validate ADR Link
        run: |
          # ADRãƒªãƒ³ã‚¯ãŒæœ‰åŠ¹ã‹ç¢ºèª
          # ...

  tests:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Run Tests
        run: composer test

  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Run Linter
        run: composer lint

  security:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Security Scan
        run: composer security-check
```

---

## 5. Milestone & Project Strategy

### 5.1 Milestone = Boltï¼ˆæœ€å°ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰

**Context Studioã¨Code Outputã§å…±æœ‰**

```
Milestone: Bolt-2024-W42
â”œâ”€ Duration: 2024-10-14 ~ 2024-10-18 (5æ—¥é–“)
â”œâ”€ Context Studio Issues:
â”‚  â”œâ”€ #1: Intent "ãƒãƒ«ãƒã‚¢ã‚«ã‚¦ãƒ³ãƒˆ"
â”‚  â”œâ”€ #5: Domain Design "Account Entity"
â”‚  â””â”€ #8: ADR-001 "Redisæ¡ç”¨"
â”‚
â””â”€ Code Output (yokakit) Issues:
   â”œâ”€ #10: Implement Account Entity
   â””â”€ #12: Implement SwitchAccountService
```

**Milestoneå‘½åè¦å‰‡**:
```
Bolt-<YYYY>-W<é€±ç•ªå·>
ä¾‹: Bolt-2024-W42
```

**Milestone Description Template**:
```markdown
## Bolt Overview
- **Duration**: 2024-10-14 ~ 2024-10-18
- **Context**: 001-multi-account
- **Goal**: ãƒãƒ«ãƒã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ã®å®Ÿè£…

## Units in Scope
- Unit 1: ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†ï¼ˆCRUDï¼‰
- Unit 2: èªè¨¼çŠ¶æ…‹ç®¡ç†

## Expected Deliverables
- [ ] Domain Design: Account Entity
- [ ] ADR-001: Redis session management
- [ ] Code: Account model, SwitchAccountService
- [ ] Tests: 100% coverage

## Dependencies
- Redis Cluster setup (DevOps)
- Authentication service integration

## Risks
- Redis performance under load (mitigation: load testing in staging)
```

---

### 5.2 GitHub Projectsï¼ˆè¤‡æ•°Boltã®çµ±åˆç®¡ç†ï¼‰

**Project Board: "YokaKit - 2024 Q4"**

```
Columns:
â”œâ”€ ğŸ“‹ Backlog (Intentæœªç€æ‰‹)
â”œâ”€ ğŸ”µ Inception (è¦ä»¶æ˜ç¢ºåŒ–ä¸­)
â”œâ”€ ğŸŸ£ Construction (è¨­è¨ˆãƒ»å®Ÿè£…ä¸­)
â”‚  â”œâ”€ Domain Design
â”‚  â”œâ”€ Logical Design
â”‚  â””â”€ Code Implementation
â”œâ”€ ğŸŸ¢ Operations (ãƒ‡ãƒ—ãƒ­ã‚¤æº–å‚™)
â””â”€ âœ… Done

Automation:
- Issueä½œæˆ â†’ Backlogè‡ªå‹•è¿½åŠ 
- Phase labelå¤‰æ›´ â†’ Columnè‡ªå‹•ç§»å‹•
- PR merge â†’ Doneè‡ªå‹•ç§»å‹•
```

**Project Views**:
1. **Board View**: ä¸Šè¨˜Columnæ§‹æˆ
2. **Table View**: Context ID, Phase, Priority, Assigneeã§ãƒ•ã‚£ãƒ«ã‚¿
3. **Roadmap View**: Milestoneï¼ˆBoltï¼‰ã®ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¡¨ç¤º

---

## 6. Automation & Integration

### 6.1 GitHub Actions Workflows

#### Context Studio: Auto-Labeling
```yaml
# .github/workflows/auto-label.yml
name: Auto Label

on:
  issues:
    types: [opened]
  pull_request:
    types: [opened]

jobs:
  label:
    runs-on: ubuntu-latest
    steps:
      - name: Label by Path
        uses: actions/labeler@v4
        with:
          configuration-path: .github/labeler.yml

      - name: Label by Phase (branch name)
        run: |
          BRANCH="${{ github.head_ref }}"
          if [[ $BRANCH == inception/* ]]; then
            gh issue edit ${{ github.event.number }} --add-label "phase::inception"
          elif [[ $BRANCH == construction/* ]]; then
            gh issue edit ${{ github.event.number }} --add-label "phase::construction"
          elif [[ $BRANCH == operations/* ]]; then
            gh issue edit ${{ github.event.number }} --add-label "phase::operations"
          fi
```

#### Code Output: Context Validation
```yaml
# .github/workflows/context-validation.yml
name: Context Validation

on:
  pull_request:
    branches: [main]

jobs:
  validate-context:
    runs-on: ubuntu-latest
    steps:
      - name: Check Context Reference
        run: |
          BODY="${{ github.event.pull_request.body }}"
          
          # Context IDå­˜åœ¨ç¢ºèª
          if ! grep -qE "Context ID.*:\s*[0-9]{3}-" <<< "$BODY"; then
            echo "âŒ Context ID missing"
            exit 1
          fi
          
          # ADRãƒªãƒ³ã‚¯å­˜åœ¨ç¢ºèª
          if ! grep -q "ADR:" <<< "$BODY"; then
            echo "âŒ ADR reference missing"
            exit 1
          fi
          
          echo "âœ… Context reference valid"
```

---

### 6.2 Submodule Auto-Update

```yaml
# Context Studio: .github/workflows/submodule-sync.yml
name: Submodule Sync

on:
  schedule:
    - cron: '0 0 * * *'  # æ¯æ—¥0æ™‚
  workflow_dispatch:

jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with:
          submodules: recursive
          token: ${{ secrets.PAT }}
      
      - name: Update Submodules
        run: |
          git submodule update --remote --merge
      
      - name: Create PR if changed
        uses: peter-evans/create-pull-request@v5
        with:
          commit-message: "chore: Update submodules (daily sync)"
          title: "Daily Submodule Sync"
          body: |
            ## Updated Submodules
            
            - yokakit: $(git -C submodules/code-output/yokakit log -1 --oneline)
            
            ## Action Required
            - [ ] Review changes
            - [ ] Verify no breaking changes
          branch: chore/submodule-sync
          labels: type::chore
```

---

## 7. Best Practices Summary

### 7.1 Context Studio

âœ… **DO**:
- Phaseåˆ¥ãƒ–ãƒ©ãƒ³ãƒã§ä½œæ¥­ï¼ˆ`inception/001-*`, `construction/001-*`ï¼‰
- ADRã¯Merge Commitã§å±¥æ­´ä¿æŒ
- PR Descriptionã«AIã¨ã®å¯¾è©±ã‚µãƒãƒªãƒ¼ã‚’è¨˜è¼‰
- Code Output Impactã‚’æ˜è¨˜

âŒ **DON'T**:
- `main`ã«ç›´æ¥ã‚³ãƒŸãƒƒãƒˆ
- Phaseæ··åœ¨ãƒ–ãƒ©ãƒ³ãƒï¼ˆInception + Constructionã‚’åŒæ™‚ï¼‰
- ADRãªã—ã§Codeç”ŸæˆæŒ‡ç¤º

---

### 7.2 Code Output

âœ… **DO**:
- å¿…ãšContext Studioå‚ç…§ã‚’è¨˜è¼‰ï¼ˆContext ID, ADRï¼‰
- feature/###-* ã§ Context IDã‚’æ˜ç¤º
- CI/CDå…¨ãƒ‘ã‚¹å¾Œã«ãƒãƒ¼ã‚¸
- Squash Mergeã§å±¥æ­´ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã«

âŒ **DON'T**:
- Contextå‚ç…§ãªã—ã§featureä½œæˆ
- CI/CDå¤±æ•—çŠ¶æ…‹ã§ãƒãƒ¼ã‚¸
- ADRé•åã®ã‚³ãƒ¼ãƒ‰

---

### 7.3 Cross-Repository

âœ… **DO**:
- Issue/PRã§ç›¸äº’ãƒªãƒ³ã‚¯ï¼ˆ`org/repo#123`ï¼‰
- Milestoneã‚’Boltå˜ä½ã§å…±æœ‰
- Submoduleæ›´æ–°æ™‚ã¯æ˜ç¤ºçš„ã‚³ãƒŸãƒƒãƒˆ

âŒ **DON'T**:
- Context Studioæœªç€æ‰‹ã§Codeå®Ÿè£…é–‹å§‹
- Submoduleæ›´æ–°ã‚’å¿˜ã‚Œã¦Context Studioã«ã‚³ãƒŸãƒƒãƒˆ

---

## 8. Quick Reference

### Branch Cheat Sheet

```bash
# Context Studio
git checkout -b inception/001-multi-account
git checkout -b construction/001-multi-account/domain-design
git checkout -b operations/001-multi-account

# Code Output
git checkout -b feature/001-account-entity
git checkout -b hotfix/session-timeout
git checkout -b refactor/auth-service
```

### Issue Creation

```bash
# Context Studio: Intentä½œæˆ
gh issue create \
  --title "[Intent] ãƒãƒ«ãƒã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½" \
  --label "artifact::intent,phase::inception,priority::high" \
  --milestone "Bolt-2024-W42"

# Code Output: Featureä½œæˆï¼ˆContextå‚ç…§ï¼‰
gh issue create \
  --title "Implement Account Entity" \
  --label "type::feature,context::001" \
  --body "Based on Context Studio #5 (Domain Design)"
```

### PR Creation

```bash
# Context Studio
gh pr create \
  --title "Add Domain Design for Account Entity" \
  --label "artifact::domain-design,phase::construction" \
  --body-file .github/PULL_REQUEST_TEMPLATE/context-studio.md

# Code Output
gh pr create \
  --title "feat: Implement Account Entity" \
  --label "type::feature,context::001" \
  --body-file .github/PULL_REQUEST_TEMPLATE/code-output.md
```

---

## Appendix: Template Files

### A1. Context Studio Issue Templates

#### `.github/ISSUE_TEMPLATE/intent.md`
```markdown
---
name: Intentï¼ˆæ„å›³ï¼‰
about: æ–°æ©Ÿèƒ½ãƒ»ãƒ“ã‚¸ãƒã‚¹æ„å›³ã®å®šç¾©
labels: artifact::intent, phase::inception
---

## Business Intent
<!-- ãƒ“ã‚¸ãƒã‚¹ä¸Šã®ç›®çš„ãƒ»å•é¡Œæ„è­˜ -->

## Key Stakeholders
<!-- ä¸»è¦ãªã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼ -->
- Product Owner: @username
- Business: @username

## Success Criteria
<!-- æˆåŠŸåŸºæº– -->
- [ ] ...

## Related Context
<!-- é–¢é€£ã™ã‚‹æ—¢å­˜Context -->

## AI Elaboration Questions
<!-- AIã«æ˜ç¢ºåŒ–ã—ã¦ã»ã—ã„è³ªå• -->
```

### A2. Code Output Issue Templates

#### `.github/ISSUE_TEMPLATE/feature.md`
```markdown
---
name: Featureï¼ˆæ©Ÿèƒ½å®Ÿè£…ï¼‰
about: Context Studioã«åŸºã¥ãæ©Ÿèƒ½å®Ÿè£…
labels: type::feature
---

## Context Studio Reference
- **Context ID**: 
- **Domain Design**: [link]
- **ADR**: [link]

## Implementation Tasks
- [ ] ...

## Definition of Done
- [ ] All tests pass
- [ ] Code review approved (2+)
- [ ] ADR compliance verified
- [ ] Documentation updated
```

---
